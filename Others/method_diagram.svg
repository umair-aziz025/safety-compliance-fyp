<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients for modern look -->
    <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#229954;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="orangeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f39c12;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e67e22;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="24" font-weight="bold" fill="#2c3e50">
    Safety Compliance Detection System - Method Diagram
  </text>
  
  <!-- Stage 1: User Authentication & Input -->
  <g id="stage1">
    <!-- User Icon -->
    <circle cx="80" cy="120" r="25" fill="url(#blueGradient)" stroke="#2980b9" stroke-width="2"/>
    <circle cx="80" cy="110" r="8" fill="white"/>
    <path d="M 65 130 Q 80 125 95 130" stroke="white" stroke-width="3" fill="none"/>
    
    <!-- Authentication Box -->
    <rect x="40" y="160" width="80" height="60" rx="8" fill="url(#blueGradient)" 
          stroke="#2980b9" stroke-width="2"/>
    <text x="80" y="185" text-anchor="middle" font-family="Arial" font-size="10" fill="white" font-weight="bold">User Login</text>
    <text x="80" y="200" text-anchor="middle" font-family="Arial" font-size="8" fill="white">Authentication</text>
    <text x="80" y="210" text-anchor="middle" font-family="Arial" font-size="8" fill="white">& Session</text>
    
    <!-- Input Selection -->
    <rect x="180" y="80" width="100" height="70" rx="8" fill="#ecf0f1" 
          stroke="#bdc3c7" stroke-width="2"/>
    <text x="230" y="100" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50" font-weight="bold">Input Selection</text>
    
    <!-- Webcam Option -->
    <rect x="190" y="110" width="35" height="25" rx="4" fill="url(#greenGradient)"/>
    <circle cx="207" cy="122" r="6" fill="white"/>
    <circle cx="207" cy="122" r="3" fill="url(#greenGradient)"/>
    <text x="207" y="142" text-anchor="middle" font-family="Arial" font-size="7" fill="#27ae60">Webcam</text>
    
    <!-- Upload Option -->
    <rect x="235" y="110" width="35" height="25" rx="4" fill="url(#orangeGradient)"/>
    <rect x="240" y="115" width="25" height="15" rx="2" fill="white"/>
    <path d="M 247 120 L 252 125 L 257 120" stroke="url(#orangeGradient)" stroke-width="2" fill="none"/>
    <text x="252" y="142" text-anchor="middle" font-family="Arial" font-size="7" fill="#f39c12">Upload</text>
  </g>
  
  <!-- Arrow 1 -->
  <line x1="120" y1="190" x2="170" y2="125" stroke="#34495e" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Stage 2: Video Processing -->
  <g id="stage2">
    <!-- Video Processing Box -->
    <rect x="320" y="80" width="120" height="80" rx="10" fill="url(#orangeGradient)" 
          stroke="#e67e22" stroke-width="3"/>
    <text x="380" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="white" font-weight="bold">Video Processing</text>
    
    <!-- Frame extraction icon -->
    <rect x="335" y="115" width="20" height="15" rx="2" fill="white" opacity="0.9"/>
    <rect x="340" y="120" width="10" height="5" fill="url(#orangeGradient)"/>
    <text x="360" y="125" font-family="Arial" font-size="8" fill="white">Frame</text>
    <text x="360" y="135" font-family="Arial" font-size="8" fill="white">Extraction</text>
    
    <!-- Preprocessing icon -->
    <circle cx="395" cy="125" r="8" fill="white" opacity="0.9"/>
    <path d="M 390 125 L 395 120 L 400 125 L 395 130 Z" fill="url(#orangeGradient)"/>
    <text x="395" y="145" text-anchor="middle" font-family="Arial" font-size="8" fill="white">Preprocessing</text>
  </g>
  
  <!-- Arrow 2 -->
  <line x1="280" y1="115" x2="310" y2="115" stroke="#34495e" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Stage 3: AI Detection Engine -->
  <g id="stage3">
    <!-- YOLOv8 Detection Engine -->
    <rect x="480" y="60" width="160" height="120" rx="12" fill="url(#greenGradient)" 
          stroke="#27ae60" stroke-width="3"/>
    <text x="560" y="85" text-anchor="middle" font-family="Arial" font-size="14" fill="white" font-weight="bold">YOLOv8l Detection Engine</text>
    
    <!-- Neural Network Icon -->
    <g transform="translate(500, 95)">
      <circle cx="10" cy="10" r="4" fill="white"/>
      <circle cx="30" cy="5" r="4" fill="white"/>
      <circle cx="30" cy="15" r="4" fill="white"/>
      <circle cx="50" cy="10" r="4" fill="white"/>
      <line x1="14" y1="10" x2="26" y2="7" stroke="white" stroke-width="1"/>
      <line x1="14" y1="10" x2="26" y2="13" stroke="white" stroke-width="1"/>
      <line x1="34" y1="7" x2="46" y2="10" stroke="white" stroke-width="1"/>
      <line x1="34" y1="13" x2="46" y2="10" stroke="white" stroke="white" stroke-width="1"/>
    </g>
    
    <!-- PPE Detection Classes -->
    <g transform="translate(485, 120)">
      <!-- Helmet -->
      <circle cx="25" cy="15" r="8" fill="white" opacity="0.9"/>
      <path d="M 20 12 Q 25 8 30 12 Q 30 18 25 20 Q 20 18 20 12" fill="#f1c40f"/>
      <text x="25" y="30" text-anchor="middle" font-family="Arial" font-size="7" fill="white">Helmet</text>
      
      <!-- Vest -->
      <rect x="50" y="8" width="14" height="14" rx="2" fill="white" opacity="0.9"/>
      <path d="M 52 10 L 62 10 L 62 18 L 52 18 Z" fill="#e67e22"/>
      <text x="57" y="30" text-anchor="middle" font-family="Arial" font-size="7" fill="white">Vest</text>
      
      <!-- Mask -->
      <ellipse cx="85" cy="15" rx="8" ry="6" fill="white" opacity="0.9"/>
      <path d="M 80 13 Q 85 11 90 13 Q 90 17 85 19 Q 80 17 80 13" fill="#3498db"/>
      <text x="85" y="30" text-anchor="middle" font-family="Arial" font-size="7" fill="white">Mask</text>
    </g>
    
    <!-- Performance Metrics -->
    <text x="560" y="160" text-anchor="middle" font-family="Arial" font-size="9" fill="white">mAP@0.5: 96.6% | FPS: 21.5</text>
  </g>
  
  <!-- Arrow 3 -->
  <line x1="450" y1="120" x2="470" y2="120" stroke="#34495e" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Stage 4: Object Tracking -->
  <g id="stage4">
    <!-- Tracking Box -->
    <rect x="680" y="80" width="140" height="80" rx="10" fill="url(#blueGradient)" 
          stroke="#2980b9" stroke-width="3"/>
    <text x="750" y="105" text-anchor="middle" font-family="Arial" font-size="12" fill="white" font-weight="bold">Object Tracking</text>
    
    <!-- EuclideanDistTracker -->
    <text x="750" y="120" text-anchor="middle" font-family="Arial" font-size="9" fill="white">EuclideanDistTracker</text>
    
    <!-- Tracking visualization -->
    <g transform="translate(690, 125)">
      <rect x="5" y="5" width="15" height="20" fill="none" stroke="white" stroke-width="1"/>
      <circle cx="12" cy="12" r="2" fill="white"/>
      <text x="12" y="30" text-anchor="middle" font-family="Arial" font-size="6" fill="white">ID: 1</text>
      
      <rect x="30" y="8" width="15" height="20" fill="none" stroke="white" stroke-width="1"/>
      <circle cx="37" cy="15" r="2" fill="white"/>
      <text x="37" y="32" text-anchor="middle" font-family="Arial" font-size="6" fill="white">ID: 2</text>
      
      <rect x="55" y="3" width="15" height="20" fill="none" stroke="white" stroke-width="1"/>
      <circle cx="62" cy="10" r="2" fill="white"/>
      <text x="62" y="28" text-anchor="middle" font-family="Arial" font-size="6" fill="white">ID: 3</text>
    </g>
  </g>
  
  <!-- Arrow 4 -->
  <line x1="650" y1="120" x2="670" y2="120" stroke="#34495e" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Stage 5: Compliance Analysis -->
  <g id="stage5">
    <!-- Compliance Analysis Box -->
    <rect x="860" y="60" width="140" height="120" rx="10" fill="url(#redGradient)" 
          stroke="#c0392b" stroke-width="3"/>
    <text x="930" y="85" text-anchor="middle" font-family="Arial" font-size="12" fill="white" font-weight="bold">Compliance Analysis</text>
    
    <!-- Safety Rules -->
    <text x="930" y="105" text-anchor="middle" font-family="Arial" font-size="9" fill="white">Safety Rules Engine</text>
    
    <!-- Compliance Status Icons -->
    <g transform="translate(875, 115)">
      <!-- Safe Status -->
      <circle cx="20" cy="15" r="10" fill="#27ae60"/>
      <path d="M 15 15 L 18 18 L 25 11" stroke="white" stroke-width="2" fill="none"/>
      <text x="20" y="32" text-anchor="middle" font-family="Arial" font-size="7" fill="white">SAFE</text>
      
      <!-- Unsafe Status -->
      <circle cx="50" cy="15" r="10" fill="#e74c3c"/>
      <line x1="45" y1="10" x2="55" y2="20" stroke="white" stroke-width="2"/>
      <line x1="45" y1="20" x2="55" y2="10" stroke="white" stroke-width="2"/>
      <text x="50" y="32" text-anchor="middle" font-family="Arial" font-size="7" fill="white">UNSAFE</text>
    </g>
    
    <!-- Real-time Counts -->
    <text x="930" y="155" text-anchor="middle" font-family="Arial" font-size="9" fill="white">Real-time Counting</text>
    <text x="930" y="170" text-anchor="middle" font-family="Arial" font-size="8" fill="white">Total | Safe | Unsafe</text>
  </g>
  
  <!-- Arrow 5 -->
  <line x1="830" y1="120" x2="850" y2="120" stroke="#34495e" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Stage 6: Output & Storage -->
  <g id="stage6">
    <!-- Visual Output -->
    <rect x="200" y="280" width="200" height="100" rx="10" fill="#ecf0f1" 
          stroke="#bdc3c7" stroke-width="3"/>
    <text x="300" y="305" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50" font-weight="bold">Visual Output</text>
    
    <!-- Live Stream Display -->
    <rect x="220" y="315" width="60" height="40" rx="4" fill="#34495e"/>
    <text x="250" y="335" text-anchor="middle" font-family="Arial" font-size="8" fill="white">Live Stream</text>
    <text x="250" y="345" text-anchor="middle" font-family="Arial" font-size="7" fill="white">with Overlays</text>
    
    <!-- Processed Video -->
    <rect x="300" y="315" width="60" height="40" rx="4" fill="#3498db"/>
    <text x="330" y="335" text-anchor="middle" font-family="Arial" font-size="8" fill="white">Processed</text>
    <text x="330" y="345" text-anchor="middle" font-family="Arial" font-size="7" fill="white">Video Output</text>
    
    <!-- Database Storage -->
    <rect x="480" y="280" width="180" height="100" rx="10" fill="url(#blueGradient)" 
          stroke="#2980b9" stroke-width="3"/>
    <text x="570" y="305" text-anchor="middle" font-family="Arial" font-size="12" fill="white" font-weight="bold">Database Storage</text>
    
    <!-- Database Icon -->
    <g transform="translate(500, 315)">
      <ellipse cx="20" cy="5" rx="15" ry="4" fill="white"/>
      <rect x="5" y="1" width="30" height="15" fill="white"/>
      <ellipse cx="20" cy="16" rx="15" ry="4" fill="white"/>
      <ellipse cx="20" cy="25" rx="15" ry="4" fill="white"/>
    </g>
    
    <!-- Storage Details -->
    <text x="570" y="330" text-anchor="middle" font-family="Arial" font-size="9" fill="white">• User Sessions</text>
    <text x="570" y="345" text-anchor="middle" font-family="Arial" font-size="9" fill="white">• Detection Results</text>
    <text x="570" y="360" text-anchor="middle" font-family="Arial" font-size="9" fill="white">• Activity Logs</text>
    
    <!-- Admin Dashboard -->
    <rect x="720" y="280" width="160" height="100" rx="10" fill="url(#orangeGradient)" 
          stroke="#e67e22" stroke-width="3"/>
    <text x="800" y="305" text-anchor="middle" font-family="Arial" font-size="12" fill="white" font-weight="bold">Admin Dashboard</text>
    
    <!-- Dashboard Features -->
    <text x="800" y="325" text-anchor="middle" font-family="Arial" font-size="9" fill="white">• User Management</text>
    <text x="800" y="340" text-anchor="middle" font-family="Arial" font-size="9" fill="white">• System Statistics</text>
    <text x="800" y="355" text-anchor="middle" font-family="Arial" font-size="9" fill="white">• Audit Reports</text>
  </g>
  
  <!-- Output Arrows -->
  <line x1="930" y1="180" x2="580" y2="270" stroke="#34495e" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="930" y1="180" x2="800" y2="270" stroke="#34495e" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="750" y1="160" x2="300" y2="270" stroke="#34495e" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Key Features Box -->
  <rect x="50" y="450" width="1100" height="300" rx="15" fill="#f8f9fa" 
        stroke="#34495e" stroke-width="2"/>
  
  <!-- Key Features Title -->
  <text x="600" y="480" text-anchor="middle" font-family="Arial" font-size="18" fill="#2c3e50" font-weight="bold">
    Key System Features & Specifications
  </text>
  
  <!-- Features in columns -->
  <g id="features">
    <!-- Column 1: Detection Performance -->
    <rect x="80" y="500" width="220" height="120" rx="8" fill="url(#greenGradient)" opacity="0.1" stroke="#27ae60"/>
    <text x="190" y="525" text-anchor="middle" font-family="Arial" font-size="12" fill="#27ae60" font-weight="bold">Detection Performance</text>
    <text x="90" y="545" font-family="Arial" font-size="10" fill="#2c3e50">• Overall mAP@0.5: 96.6%</text>
    <text x="90" y="560" font-family="Arial" font-size="10" fill="#2c3e50">• Helmet: 98.4% mAP@0.5</text>
    <text x="90" y="575" font-family="Arial" font-size="10" fill="#2c3e50">• Vest: 94.1% mAP@0.5</text>
    <text x="90" y="590" font-family="Arial" font-size="10" fill="#2c3e50">• Mask: 97.4% mAP@0.5</text>
    <text x="90" y="605" font-family="Arial" font-size="10" fill="#2c3e50">• Real-time: 21.5 FPS (GPU)</text>
    
    <!-- Column 2: System Architecture -->
    <rect x="320" y="500" width="220" height="120" rx="8" fill="url(#blueGradient)" opacity="0.1" stroke="#3498db"/>
    <text x="430" y="525" text-anchor="middle" font-family="Arial" font-size="12" fill="#3498db" font-weight="bold">System Architecture</text>
    <text x="330" y="545" font-family="Arial" font-size="10" fill="#2c3e50">• Flask Web Application</text>
    <text x="330" y="560" font-family="Arial" font-size="10" fill="#2c3e50">• PostgreSQL Database</text>
    <text x="330" y="575" font-family="Arial" font-size="10" fill="#2c3e50">• YOLOv8l + OpenCV</text>
    <text x="330" y="590" font-family="Arial" font-size="10" fill="#2c3e50">• CUDA Acceleration</text>
    <text x="330" y="605" font-family="Arial" font-size="10" fill="#2c3e50">• Multi-user Support</text>
    
    <!-- Column 3: Security & Management -->
    <rect x="560" y="500" width="220" height="120" rx="8" fill="url(#orangeGradient)" opacity="0.1" stroke="#f39c12"/>
    <text x="670" y="525" text-anchor="middle" font-family="Arial" font-size="12" fill="#f39c12" font-weight="bold">Security & Management</text>
    <text x="570" y="545" font-family="Arial" font-size="10" fill="#2c3e50">• bcrypt Authentication</text>
    <text x="570" y="560" font-family="Arial" font-size="10" fill="#2c3e50">• Role-based Access</text>
    <text x="570" y="575" font-family="Arial" font-size="10" fill="#2c3e50">• Admin Approval Workflow</text>
    <text x="570" y="590" font-family="Arial" font-size="10" fill="#2c3e50">• Activity Logging</text>
    <text x="570" y="605" font-family="Arial" font-size="10" fill="#2c3e50">• Session Management</text>
    
    <!-- Column 4: Input/Output Capabilities -->
    <rect x="800" y="500" width="220" height="120" rx="8" fill="url(#redGradient)" opacity="0.1" stroke="#e74c3c"/>
    <text x="910" y="525" text-anchor="middle" font-family="Arial" font-size="12" fill="#e74c3c" font-weight="bold">Input/Output Features</text>
    <text x="810" y="545" font-family="Arial" font-size="10" fill="#2c3e50">• Webcam Live Stream</text>
    <text x="810" y="560" font-family="Arial" font-size="10" fill="#2c3e50">• Video File Upload (MP4)</text>
    <text x="810" y="575" font-family="Arial" font-size="10" fill="#2c3e50">• Processed Video Export</text>
    <text x="810" y="590" font-family="Arial" font-size="10" fill="#2c3e50">• Real-time Statistics</text>
    <text x="810" y="605" font-family="Arial" font-size="10" fill="#2c3e50">• Visual Compliance Alerts</text>
  </g>
  
  <!-- Technology Stack -->
  <rect x="80" y="650" width="940" height="80" rx="8" fill="#34495e" opacity="0.1" stroke="#34495e"/>
  <text x="550" y="675" text-anchor="middle" font-family="Arial" font-size="12" fill="#34495e" font-weight="bold">Technology Stack</text>
  
  <!-- Tech icons and labels -->
  <g transform="translate(100, 685)">
    <!-- Python/Flask -->
    <circle cx="40" cy="15" r="12" fill="#3776ab"/>
    <text x="40" y="20" text-anchor="middle" font-family="Arial" font-size="8" fill="white" font-weight="bold">Py</text>
    <text x="40" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">Python/Flask</text>
    
    <!-- YOLOv8 -->
    <rect x="130" y="3" width="24" height="24" rx="4" fill="#00D4AA"/>
    <text x="142" y="18" text-anchor="middle" font-family="Arial" font-size="7" fill="white" font-weight="bold">YOLO</text>
    <text x="142" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">YOLOv8l</text>
    
    <!-- PostgreSQL -->
    <circle cx="220" cy="15" r="12" fill="#336791"/>
    <text x="220" y="20" text-anchor="middle" font-family="Arial" font-size="8" fill="white" font-weight="bold">PG</text>
    <text x="220" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">PostgreSQL</text>
    
    <!-- OpenCV -->
    <rect x="298" y="3" width="24" height="24" rx="4" fill="#5C85D6"/>
    <text x="310" y="18" text-anchor="middle" font-family="Arial" font-size="7" fill="white" font-weight="bold">CV</text>
    <text x="310" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">OpenCV</text>
    
    <!-- Bootstrap -->
    <circle cx="390" cy="15" r="12" fill="#7952B3"/>
    <text x="390" y="20" text-anchor="middle" font-family="Arial" font-size="8" fill="white" font-weight="bold">BS</text>
    <text x="390" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">Bootstrap</text>
    
    <!-- jQuery -->
    <rect x="468" y="3" width="24" height="24" rx="4" fill="#0769AD"/>
    <text x="480" y="18" text-anchor="middle" font-family="Arial" font-size="7" fill="white" font-weight="bold">jQ</text>
    <text x="480" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">jQuery</text>
    
    <!-- CUDA -->
    <circle cx="560" cy="15" r="12" fill="#76B900"/>
    <text x="560" y="20" text-anchor="middle" font-family="Arial" font-size="7" fill="white" font-weight="bold">GPU</text>
    <text x="560" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">CUDA</text>
    
    <!-- HTML5 -->
    <rect x="638" y="3" width="24" height="24" rx="4" fill="#E34F26"/>
    <text x="650" y="18" text-anchor="middle" font-family="Arial" font-size="7" fill="white" font-weight="bold">H5</text>
    <text x="650" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">HTML5</text>
    
    <!-- REST API -->
    <circle cx="730" cy="15" r="12" fill="#FF6B6B"/>
    <text x="730" y="20" text-anchor="middle" font-family="Arial" font-size="6" fill="white" font-weight="bold">API</text>
    <text x="730" y="35" text-anchor="middle" font-family="Arial" font-size="8" fill="#2c3e50">REST API</text>
  </g>
  
  <!-- Footer -->
  <text x="600" y="780" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">
    Safety Compliance Detection System | Focus: Helmet, Vest, Mask Detection | Enterprise-Ready Solution
  </text>
</svg>
